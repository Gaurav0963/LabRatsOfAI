<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Lab - Pandas Solutions</title>
    <link rel="icon" type="image/png" href="favicon-16x16.png">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    
    <!-- Custom Font (Inter) -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <style>
        body { font-family: 'Inter', sans-serif; }
    </style>
</head>
<body class="bg-slate-950 text-slate-900 py-8 min-h-screen">

    <div class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8">
        <!-- Back Button -->
        <a href="index.html" class="inline-flex items-center gap-2 text-slate-400 hover:text-white transition-colors mb-6 group">
            <div class="p-2 rounded-full bg-slate-800 group-hover:bg-slate-700">
                <i data-lucide="arrow-left" class="w-5 h-5"></i>
            </div>
            <span class="font-medium">Back to Portal</span>
        </a>

        <!-- Document Container -->
        <div class="bg-white rounded-xl shadow-2xl overflow-hidden min-h-[800px]">
            
            <!-- Document Header -->
            <div class="bg-pink-50 border-b border-pink-200 px-8 py-6">
                <div class="flex justify-between items-start">
                    <div>
                        <span class="inline-block px-3 py-1 bg-pink-100 text-pink-800 rounded-full text-xs font-bold uppercase tracking-wide mb-2">
                            Verified Solutions
                        </span>
                        <h1 class="text-3xl font-bold text-slate-900 mb-2">Pandas Manipulation Solutions</h1>
                        <div class="flex items-center gap-4 text-sm text-slate-500">
                            <span class="flex items-center gap-1"><i data-lucide="check-circle" class="w-4 h-4"></i> Status: Verified</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="px-8 py-8 space-y-10">

                <!-- Q1 -->
                <div>
                    <h3 class="font-bold text-lg text-slate-800 mb-2">Q1. Load Data</h3>
                    <pre class="bg-slate-900 text-slate-50 p-4 rounded-lg overflow-x-auto text-sm font-mono border border-slate-700"><code>import pandas as pd

# Load dataset directly from URL
url = "https://raw.githubusercontent.com/datasciencedojo/datasets/master/titanic.csv"
df = pd.read_csv(url)

# Display first 5 rows
print(df.head())

# Check types and info
print(df.info())

# Statistical summary
print(df.describe())</code></pre>
                </div>

                <!-- Q2 -->
                <div>
                    <h3 class="font-bold text-lg text-slate-800 mb-2">Q2. Column Selection</h3>
                    <pre class="bg-slate-900 text-slate-50 p-4 rounded-lg overflow-x-auto text-sm font-mono border border-slate-700"><code># Select specific columns
subset = df[['Name', 'Sex', 'Age']]

print("New Dataframe Shape:", subset.shape)
print(subset.head())</code></pre>
                </div>

                <!-- Q3 -->
                <div>
                    <h3 class="font-bold text-lg text-slate-800 mb-2">Q3. Sorting</h3>
                    <pre class="bg-slate-900 text-slate-50 p-4 rounded-lg overflow-x-auto text-sm font-mono border border-slate-700"><code># Sort by Fare descending
sorted_df = df.sort_values(by='Fare', ascending=False)

# Get the person who paid the most (first row of sorted)
richest = sorted_df.iloc[0]
print(f"Highest Fare paid by: {richest['Name']} (${richest['Fare']})")</code></pre>
                </div>

                <!-- Q4 -->
                <div>
                    <h3 class="font-bold text-lg text-slate-800 mb-2">Q4. Conditional Filtering</h3>
                    <pre class="bg-slate-900 text-slate-50 p-4 rounded-lg overflow-x-auto text-sm font-mono border border-slate-700"><code># Filter: Sex == female AND Survived == 1
survived_females = df[(df['Sex'] == 'female') & (df['Survived'] == 1)]

print("Number of surviving females:", len(survived_females))</code></pre>
                </div>

                <!-- Q5 -->
                <div>
                    <h3 class="font-bold text-lg text-slate-800 mb-2">Q5. Complex Conditions</h3>
                    <pre class="bg-slate-900 text-slate-50 p-4 rounded-lg overflow-x-auto text-sm font-mono border border-slate-700"><code># Filter: Pclass == 1 AND Age > 50
seniors_first_class = df[(df['Pclass'] == 1) & (df['Age'] > 50)]

print(seniors_first_class[['Name', 'Age']])</code></pre>
                </div>

                <!-- Q6 -->
                <div>
                    <h3 class="font-bold text-lg text-slate-800 mb-2">Q6. Loc vs Iloc</h3>
                    <pre class="bg-slate-900 text-slate-50 p-4 rounded-lg overflow-x-auto text-sm font-mono border border-slate-700"><code># iloc uses integer positions (rows 10-19, cols 0-2)
print(df.iloc[10:20, 0:3])

# loc uses labels (index label 100)
person = df.loc[100, 'Name']
print("\nPassenger at index 100:", person)</code></pre>
                </div>

                <!-- Q7 -->
                <div>
                    <h3 class="font-bold text-lg text-slate-800 mb-2">Q7. Null Detection</h3>
                    <pre class="bg-slate-900 text-slate-50 p-4 rounded-lg overflow-x-auto text-sm font-mono border border-slate-700"><code># Count missing values per column
missing_counts = df.isnull().sum()

print("Missing Values:\n", missing_counts)
# Output usually shows Age, Cabin, and Embarked have nulls</code></pre>
                </div>

                <!-- Q8 -->
                <div>
                    <h3 class="font-bold text-lg text-slate-800 mb-2">Q8. Imputation</h3>
                    <pre class="bg-slate-900 text-slate-50 p-4 rounded-lg overflow-x-auto text-sm font-mono border border-slate-700"><code># Calculate median age
median_age = df['Age'].median()
print("Median Age:", median_age)

# Fill nulls in Age with median
df['Age'] = df['Age'].fillna(median_age) # In pandas 3.0+, use direct assignment or ffill

# Verify
print("Missing Age count:", df['Age'].isnull().sum())</code></pre>
                </div>

                <!-- Q9 -->
                <div>
                    <h3 class="font-bold text-lg text-slate-800 mb-2">Q9. Dropping Columns</h3>
                    <pre class="bg-slate-900 text-slate-50 p-4 rounded-lg overflow-x-auto text-sm font-mono border border-slate-700"><code># Drop 'Cabin' column
# axis=1 denotes column
df.drop('Cabin', axis=1, inplace=True)

print("Columns after drop:", df.columns)</code></pre>
                </div>

                <!-- Q10 -->
                <div>
                    <h3 class="font-bold text-lg text-slate-800 mb-2">Q10. Group Averages</h3>
                    <pre class="bg-slate-900 text-slate-50 p-4 rounded-lg overflow-x-auto text-sm font-mono border border-slate-700"><code># Group by Pclass and aggregate
# Note: we select numeric columns only for mean
grp = df.groupby('Pclass')[['Fare', 'Age']].mean()

print(grp)</code></pre>
                </div>

                <!-- Q11 -->
                <div>
                    <h3 class="font-bold text-lg text-slate-800 mb-2">Q11. Survival Analysis</h3>
                    <pre class="bg-slate-900 text-slate-50 p-4 rounded-lg overflow-x-auto text-sm font-mono border border-slate-700"><code># Group by Sex, get mean of Survived
# 1 = Survived, 0 = Died, so Mean = % Survived
survival_rate = df.groupby('Sex')['Survived'].mean()

print(survival_rate)
# Females usually have ~74% survival rate</code></pre>
                </div>

                <!-- Q12 -->
                <div>
                    <h3 class="font-bold text-lg text-slate-800 mb-2">Q12. Pivot Tables</h3>
                    <pre class="bg-slate-900 text-slate-50 p-4 rounded-lg overflow-x-auto text-sm font-mono border border-slate-700"><code># Index=Sex, Columns=Pclass, Values=Survived (mean)
pivot = df.pivot_table(index='Sex', columns='Pclass', values='Survived', aggfunc='mean')

print(pivot)</code></pre>
                </div>

                <!-- Q13 -->
                <div>
                    <h3 class="font-bold text-lg text-slate-800 mb-2">Q13. Creating Columns</h3>
                    <pre class="bg-slate-900 text-slate-50 p-4 rounded-lg overflow-x-auto text-sm font-mono border border-slate-700"><code># Feature Engineering: Family Size
df['FamilySize'] = df['SibSp'] + df['Parch'] + 1

print(df[['Name', 'FamilySize']].head())</code></pre>
                </div>

                <!-- Q14 -->
                <div>
                    <h3 class="font-bold text-lg text-slate-800 mb-2">Q14. Map & Encode</h3>
                    <pre class="bg-slate-900 text-slate-50 p-4 rounded-lg overflow-x-auto text-sm font-mono border border-slate-700"><code># Map string to number
df['Sex_Code'] = df['Sex'].map({'male': 0, 'female': 1})

print(df[['Sex', 'Sex_Code']].head())</code></pre>
                </div>

                <!-- Q15 -->
                <div>
                    <h3 class="font-bold text-lg text-slate-800 mb-2">Q15. String Operations</h3>
                    <pre class="bg-slate-900 text-slate-50 p-4 rounded-lg overflow-x-auto text-sm font-mono border border-slate-700"><code># Extract Title
# Format is "Lastname, Title. Firstname"
# We split by comma, take index 1, then split by dot, take index 0
df['Title'] = df['Name'].apply(lambda x: x.split(',')[1].split('.')[0].strip())

print(df['Title'].value_counts())</code></pre>
                </div>

            </div>
            
            <!-- Document Footer -->
            <div class="bg-pink-50 border-t border-pink-200 px-8 py-4 text-center text-pink-800 text-sm">
                -- End of Solutions --
            </div>
        </div>
    </div>

    <!-- Initialize Icons -->
    <script>
        lucide.createIcons();
    </script>
</body>
</html>
